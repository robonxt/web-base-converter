<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, orientation=portrait, maximum-scale=1.0, user-scalable=no">
    <meta name="screen-orientation" content="portrait">
    <title>Base Converter</title>
    <meta name="description"
        content="Effortlessly convert numerical values between binary, octal, decimal, and hexadecimal bases.">
    <meta name="theme-color" content="#14B8A6">
    <!-- Brand Icons (removed file-based links; consider adding data URL or real assets later) -->
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="manifest" href="manifest.json">
    <script>
        // Apply saved or preferred theme before first paint to avoid flash
        (function () {
            try {
                var saved = localStorage.getItem('theme');
                var theme = saved ? saved : (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
                document.documentElement.setAttribute('data-theme', theme);
            } catch (e) {
                document.documentElement.setAttribute('data-theme', 'light');
            }
        })();
    </script>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <header class="header-bar">
        <div class="header-bar-content">
            <div class="header-left">
                <div class="mobile-nav">
                    <button class="btn btn-icon" id="btn-mobile-nav" aria-label="Open Menu" aria-haspopup="true"
                        aria-expanded="false">
                        <span class="material-symbols-rounded">menu</span>
                    </button>
                    <div class="mobile-nav-dropdown" id="mobile-nav-dropdown" role="menu"></div>
                </div>
                <div class="mobile-nav-title" id="mobile-nav-title"></div>
                <nav class="tab-list" id="wrapper-tabs">
                    <div class="tab-slider"></div>
                    <button class="tab-button active" data-tab="home">Home</button>
                </nav>
            </div>

            <div class="header-controls">
                <button class="btn btn-icon" id="btn-show-settings" aria-label="Show Settings" title="Settings">
                    <span class="material-symbols-rounded">settings</span>
                </button>
                <button class="btn btn-icon" id="btn-show-info" aria-label="Show Information" title="Info">
                    <span class="material-symbols-rounded">info</span>
                </button>
            </div>
        </div>
    </header>

    <main class="app-container">

        <section class="content-section" data-content="home">
            <h2>Base Converter Tool</h2>
            <p>Effortlessly convert numerical values between binary, octal, decimal, and hexadecimal bases.</p>

            <form id="converter-form" class="tool-form" autocomplete="off">
                <div class="form-grid">
                    <div class="input-group">
                        <label for="inputValue">Value</label>
                        <input type="text" id="inputValue" placeholder="e.g., 101101 or 2F" required />
                    </div>

                    <div class="bases-row">
                        <div class="input-group base-select">
                            <label for="fromBase">From</label>
                            <select id="fromBase" class="enhance-dropdown">
                                <option value="2">Binary (2)</option>
                                <option value="8">Octal (8)</option>
                                <option value="10">Decimal (10)</option>
                                <option value="16">Hexadecimal (16)</option>
                            </select>
                        </div>

                        <button type="button" id="swap-bases" class="btn btn-icon btn-outline swap-btn"
                            aria-label="Swap bases" title="Swap bases">
                            <span class="material-symbols-rounded">swap_horiz</span>
                        </button>

                        <div class="input-group base-select">
                            <label for="toBase">To</label>
                            <select id="toBase" class="enhance-dropdown">
                                <option value="2">Binary (2)</option>
                                <option value="8">Octal (8)</option>
                                <option value="10" selected>Decimal (10)</option>
                                <option value="16">Hexadecimal (16)</option>
                            </select>
                        </div>
                    </div>
                </div>

            </form>

            <div class="solution-block">
                <h3>Conversion Output</h3>
                <div class="result-row">
                    <div id="solution" class="result" aria-live="polite"></div>
                    <button type="button" id="copy-solution" class="btn btn-icon btn-outline"
                        aria-label="Copy result to clipboard" title="Copy to clipboard">
                        <span class="material-symbols-rounded">content_copy</span>
                    </button>
                </div>
            </div>

            <div class="conversion-container">
                <h3>Step-by-Step Process</h3>
                <div id="conversionSteps"></div>
            </div>
        </section>
        <section class="content-section" data-content="about" hidden>About content.</section>
        <section class="content-section" data-content="contact" hidden>Contact content.</section>
    </main>

    <div class="overlay" id="modal-settings" role="dialog" aria-modal="true" aria-labelledby="heading-settings"
        aria-hidden="true">
        <div class="modal-dialog" tabindex="-1">
            <div class="modal-header">
                <h2 id="heading-settings" class="modal-title">Settings</h2>
                <button class="btn btn-icon btn-modal-close" id="btn-modal-close-settings" aria-label="Close">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <div class="modal-content" id="content-settings">
                <div class="settings-grid">
                    <button id="btn-toggle-theme" class="btn btn-outline" title="Toggle Theme"
                        aria-label="Toggle Theme">
                        <span class="material-symbols-rounded icon-theme-light">light_mode</span>
                        <span class="material-symbols-rounded icon-theme-dark">dark_mode</span>
                        Toggle Theme
                    </button>
                    <button id="btn-update-app" class="btn btn-danger" title="Install Updates"
                        aria-label="Install Updates">
                        <span class="material-symbols-rounded">refresh</span>
                        Update
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="overlay" id="modal-info" role="dialog" aria-modal="true" aria-labelledby="heading-info"
        aria-hidden="true">
        <div class="modal-dialog" tabindex="-1">
            <div class="modal-header">
                <h2 id="heading-info" class="modal-title">About Base Converter Tool</h2>
                <button class="btn btn-icon btn-modal-close" id="btn-modal-close-info" aria-label="Close">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <div class="modal-content" id="content-info">
                <h3>Base Converter Tool</h3>

                <p>Effortlessly convert numerical values between binary, octal, decimal, and hexadecimal bases. Enter a
                    value, select bases, and get instant results.</p>

                <ul>
                    <li><strong>Set Bases:</strong> Choose <em>From</em> and <em>To</em> (2, 8, 10, 16). Use
                        <em>Swap</em> to flip.</li>
                    <li><strong>Enter Value:</strong> Only digits valid for the <em>From</em> base are accepted.</li>
                    <li><strong>Features:</strong> Live result, one-click copy, step-by-step method, light/dark theme,
                        PWA offline.</li>
                    <li><strong>Validation:</strong> Invalid characters are flagged immediately.</li>
                    <li><strong>Result:</strong> Exact conversion plus the method used.</li>
                    <li><strong>Digits:</strong> Bin 0–1 · Oct 0–7 · Dec 0–9 · Hex 0–9, A–F.</li>
                </ul>
            </div>
            <div class="modal-footer">
                <a class="btn btn-outline" href="https://github.com/robonxt/web-base-converter" target="_blank"
                    rel="noopener">View source code on GitHub</a>
            </div>
        </div>
    </div>

    <div class="overlay" id="modal-update-confirm" role="dialog" aria-modal="true"
        aria-labelledby="heading-update-confirm" aria-hidden="true">
        <div class="modal-dialog" tabindex="-1">
            <div class="modal-header">
                <h2 id="heading-update-confirm" class="modal-title">Confirm Update</h2>
                <button class="btn btn-icon btn-modal-close" id="btn-modal-close-update-confirm" aria-label="Close">
                    <span class="material-symbols-rounded">close</span>
                </button>
            </div>
            <div class="modal-content" id="content-update-confirm">
                <p>This will clear ALL cached data (including preferences) and force a fresh update. Continue?</p>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="btn-cancel-update">Cancel</button>
                <button class="btn btn-danger" id="btn-confirm-update">Update</button>
            </div>
        </div>
    </div>

    <script src="base-converter.js" defer></script>
    <script src="app.js" defer></script>
    <!-- Toast container -->
    <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true" hidden></div>
</body>

</html>