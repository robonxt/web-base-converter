<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Web Template Starter</title>
    <meta name="description" content="Reusable header/toolbar/tabs starter with PWA support.">
    <meta name="theme-color" content="#14B8A6">
    <!-- Brand Icons -->
    <link rel="icon" type="image/x-icon" href="assets/icon/sample-favicon.ico">
    <link rel="icon" type="image/svg+xml" href="assets/icon/sample-favicon.svg" />
    <link rel="apple-touch-icon" href="assets/icon/sample-apple-touch-icon.png">
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,0,0" />
    <link rel="manifest" href="manifest.json">
    <script>
        // Apply saved or preferred theme before first paint to avoid flash
        (function () {
            try {
                var saved = localStorage.getItem('theme');
                var theme = saved ? saved : (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light');
                document.documentElement.setAttribute('data-theme', theme);
            } catch (e) {
                document.documentElement.setAttribute('data-theme', 'light');
            }
        })();
    </script>
    <link rel="stylesheet" href="styles.css">
</head>

<body>

    <header class="header-bar">
        <div class="header-bar-content">
            <div class="header-left">
                <div class="mobile-nav">
                    <button class="btn btn-icon" id="btn-mobile-nav" aria-label="Open Menu" aria-haspopup="true"
                        aria-expanded="false">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <use href="assets/icon/icon-menu.svg#icon-menu" />
                        </svg>
                    </button>
                    <div class="mobile-nav-dropdown" id="mobile-nav-dropdown" role="menu"></div>
                </div>
                <div class="mobile-nav-title" id="mobile-nav-title"></div>
                <nav class="tab-list" id="wrapper-tabs">
                    <div class="tab-slider"></div>
                    <button class="tab-button active" data-tab="home">Home</button>
                </nav>
            </div>

            <div class="header-controls">
                <button class="btn btn-icon" id="btn-show-settings" aria-label="Show Settings" title="Settings">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <use href="assets/icon/icon-settings.svg#icon-settings" />
                    </svg>
                </button>
                <button class="btn btn-icon" id="btn-show-info" aria-label="Show Information" title="Info">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <use href="assets/icon/icon-info.svg#icon-info" />
                    </svg>
                </button>
            </div>
        </div>
    </header>

    <main class="app-container">

        <section class="content-section" data-content="home">
            <h2>Number Base Converter</h2>
            <p>Convert values between bases 2, 8, 10, and 16.</p>

            <form id="converter-form" class="tool-form" autocomplete="off">
                <div class="form-grid">
                    <div class="input-group">
                        <label for="inputValue">Value</label>
                        <input type="text" id="inputValue" placeholder="e.g., 101101 or 2F" required />
                    </div>

                    <div class="bases-row">
                        <div class="input-group base-select">
                            <label for="fromBase">From</label>
                            <select id="fromBase" class="enhance-dropdown">
                                <option value="2">Binary</option>
                                <option value="8">Octal</option>
                                <option value="10">Decimal</option>
                                <option value="16">Hexadecimal</option>
                            </select>
                        </div>

                        <button type="button" id="swap-bases" class="btn btn-icon swap-btn" aria-label="Swap bases" title="Swap bases">
                            <span class="material-symbols-rounded">swap_horiz</span>
                        </button>

                        <div class="input-group base-select">
                            <label for="toBase">To</label>
                            <select id="toBase" class="enhance-dropdown">
                                <option value="2">Binary</option>
                                <option value="8">Octal</option>
                                <option value="10" selected>Decimal</option>
                                <option value="16">Hexadecimal</option>
                            </select>
                        </div>
                    </div>
                </div>

            </form>

            <div class="solution-block">
                <h3>Result</h3>
                <div class="result-row">
                    <div id="solution" class="result" aria-live="polite"></div>
                    <button type="button" id="copy-solution" class="btn btn-icon" aria-label="Copy result to clipboard"
                        title="Copy to clipboard">
                        <span class="material-symbols-rounded">content_copy</span>
                    </button>
                </div>
            </div>

            <div class="conversion-container">
                <h3>Conversion Method</h3>
                <div id="conversionSteps"></div>
            </div>
        </section>
        <section class="content-section" data-content="about" hidden>About content.</section>
        <section class="content-section" data-content="contact" hidden>Contact content.</section>
    </main>

    <div class="overlay" id="modal-settings" role="dialog" aria-modal="true" aria-labelledby="heading-settings"
        aria-hidden="true">
        <div class="modal-dialog" tabindex="-1">
            <div class="modal-header">
                <h2 id="heading-settings" class="modal-title">Settings</h2>
                <button class="btn btn-icon btn-modal-close" id="btn-modal-close-settings" aria-label="Close">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <use href="assets/icon/icon-close.svg#icon-close" />
                    </svg>
                </button>
            </div>
            <div class="modal-content" id="content-settings">
                <div class="settings-grid">
                    <button id="btn-toggle-theme" class="btn btn-outline" title="Toggle Theme"
                        aria-label="Toggle Theme">
                        <svg viewBox="0 0 24 24" fill="currentColor" class="icon-theme-light">
                            <use href="assets/icon/icon-sun.svg#icon-sun" />
                        </svg>
                        <svg viewBox="0 0 24 24" fill="currentColor" class="icon-theme-dark">
                            <use href="assets/icon/icon-moon.svg#icon-moon" />
                        </svg>
                        Toggle Theme
                    </button>
                    <button id="btn-update-app" class="btn btn-danger" title="Install Updates"
                        aria-label="Install Updates">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <use href="assets/icon/icon-refresh.svg#icon-refresh" />
                        </svg>
                        Update
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="overlay" id="modal-info" role="dialog" aria-modal="true" aria-labelledby="heading-info"
        aria-hidden="true">
        <div class="modal-dialog" tabindex="-1">
            <div class="modal-header">
                <h2 id="heading-info" class="modal-title">About this Template</h2>
                <button class="btn btn-icon btn-modal-close" id="btn-modal-close-info" aria-label="Close">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <use href="assets/icon/icon-close.svg#icon-close" />
                    </svg>
                </button>
            </div>
            <div class="modal-content" id="content-info">
                <h3>Overview</h3>
                <p>This tool converts numbers between bases 2 (Binary), 8 (Octal), 10 (Decimal), and 16 (Hexadecimal). It updates results as you type and explains the conversion method for the selected bases.</p>

                <h3>How to Use</h3>
                <ul>
                    <li>Enter a value in the <strong>Value</strong> field.</li>
                    <li>Select the <strong>From</strong> base and the <strong>To</strong> base. Use the <strong>Swap</strong> button to quickly switch them.</li>
                    <li>The result appears instantly in the <strong>Result</strong> area. Use the copy icon to copy it.</li>
                    <li>Below the result, find a brief explanation of the conversion method for the chosen bases.</li>
                </ul>

                <h3>Supported Bases & Validation</h3>
                <ul>
                    <li><strong>Binary (2)</strong>: digits 0–1</li>
                    <li><strong>Octal (8)</strong>: digits 0–7</li>
                    <li><strong>Decimal (10)</strong>: digits 0–9</li>
                    <li><strong>Hexadecimal (16)</strong>: digits 0–9 and A–F (case-insensitive)</li>
                </ul>
                <p>If the input contains characters invalid for the selected base, an error message is shown in the result area.</p>

                <h3>Tips & Keyboard</h3>
                <ul>
                    <li>Hex input is case-insensitive: <code>a–f</code> equals <code>A–F</code>.</li>
                    <li>Press <strong>Tab</strong> to move between inputs and dropdowns. Press <strong>Enter</strong> or <strong>Space</strong> to open custom dropdowns, then use arrow keys to navigate.</li>
                    <li>The app keeps your theme preference and works offline once loaded.</li>
                </ul>

                <h3>Offline, Updates, and Privacy</h3>
                <ul>
                    <li><strong>Offline</strong>: The PWA caches assets so the tool works without a network after first load.</li>
                    <li><strong>Updates</strong>: Use <strong>Settings → Update</strong> to refresh cached assets. This may clear preferences.</li>
                    <li><strong>Privacy</strong>: All conversions run locally in your browser—no data is sent to a server.</li>
                </ul>

                <h3>Version & Links</h3>
                <ul>
                    <li>Version: 1.0.0</li>
                    <li>Branding and components: <a href="https://raw.githubusercontent.com/robonxt/robonxt-visual-branding-guidelines/refs/heads/main/index.html" target="_blank" rel="noopener">Brand Guidelines</a></li>
                    <li>Design tokens: <a href="https://raw.githubusercontent.com/robonxt/robonxt-visual-branding-guidelines/refs/heads/main/tokens.json" target="_blank" rel="noopener">tokens.json</a></li>
                </ul>
            </div>
        </div>
    </div>

    <script src="base-converter.js" defer></script>
    <script src="app.js" defer></script>
    <!-- Toast container -->
    <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true" hidden></div>
</body>

</html>